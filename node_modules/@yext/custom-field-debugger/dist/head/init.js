"use strict";
function init(rerender, props, debug = false) {
  const urlParams = new URLSearchParams(window.location.search);
  const enableDebug = urlParams.get("yextCFDebug");
  if (enableDebug) {
    console.log("Enable custom field debugger");
    import("../main/index").then(({ getProxyProfile, initCFDebugger }) => {
      if (debug) {
        console.log("Set up Proxy Profile");
      }
      const proxyProps = getProxyProfile(props);
      const noProxyProps = structuredClone(props);
      props = proxyProps;
      if (debug) {
        console.log("first rerender");
      }
      rerender(props);
      initCFDebugger(rerender, noProxyProps, debug);
    });
  }
}
export {
  init
};
