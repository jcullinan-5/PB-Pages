// --------
// Fields
// --------

// Address
export interface Address {
  line1: string
  line2?: string
  line3?: string;
  city: string
  region?: string
  postalCode: string
  countryCode: string
  sublocality?: string;
  extraDescription?: string;
  localizedRegionName?: string; // previously in derived data
  localizedCountryName?: string; // previously in derived data
}

// Coordinate

export interface Coordinate {
  latitude: number
  longitude: number
}

// Website Url

export interface WebsiteUrl {
  displayUrl: string
  url: string
  preferDisplayUrl: boolean
}

// CTA

export enum LinkType {
  URL = 'URL',
  Email = 'Email',
  Phone = 'Phone',
}

export interface CTA {
  link: string
  label: string
  linkType?: LinkType
}

// Hours

export interface Hours {
  monday?: Day;
  tuesday?: Day;
  wednesday?: Day;
  thursday?: Day;
  friday?: Day;
  saturday?: Day;
  sunday?: Day;
  holidayHours?: Holiday[];
  reopenDate?: string;
}

export interface Day {
  isClosed: boolean
  openIntervals: OpenIntervals[]
}

export interface Holiday extends Day {
  date: string
}

export interface OpenIntervals {
  start: string
  end: string
};

// Image

export interface Image {
  height: number
  width: number
  url: string
}

export interface ComplexImage {
  description?: string
  details?: string
  clickthroughUrl?: string
  image: Image & {alternateText: string}
}

// --------
// Entities
// --------

export interface EntityType {
  id: string
  uid: number
}

export interface Meta {
  entityType: EntityType
  locale: string
  updateTimestamp: string
}

export enum PaymentOptions {
  AMERICANEXPRESS = 'AMERICANEXPRESS',
  APPLEPAY = 'APPLEPAY',
  BITCOIN = 'BITCOIN',
  CASH = 'CASH',
  CHECK = 'CHECK',
  MASTERCARD = 'MASTERCARD',
  PAYPAL = 'PAYPAL',
  VISA = 'VISA',
}

export enum ListingPublisher {
  googlemybusiness = 'googlemybusiness',
}

export interface Listing {
  listingUrl: string
  publisher: ListingPublisher
}

export interface Entity {
  businessId: number
  description?: string
  id: string
  key: string
  mainPhone?: string
  locale: string
  meta: Meta
  name: string
  paymentOptions?: PaymentOptions
  photoGallery?: Image[]
  services?: string[]
  siteId: number
  slug: string
  uid: number
}

export interface Location extends Entity {
  address: Address
  geocodedCoordinate: Coordinate
  neighborhood?: string
  ref_listings?: Listing[]
}

export enum ReviewPublisher {
  googlemybusiness = "googlemybusiness",
  facebook = "facebook",
  firstparty = "firstparty",
  externalfirstparty = "externalfirstparty",
}

export interface ReviewLabel {
 uid: number 
 name: string
}

export interface ReviewComment {
 commentId: number 
 commentDate?: string
 authorName?: string
 content?: string
}
export interface Review {
  reviewId: number
  publisher: ReviewPublisher
  authorName?: string
  content?: string
  reviewUrl?: string
  rating?: number
  reviewDate?: string
  lastYextUpdateDate?: string
  reviewLabels?: ReviewLabel[]
  comments?: ReviewComment[]
  apiIdentifier?: string
}

